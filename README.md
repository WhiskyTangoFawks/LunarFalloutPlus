# Life In The Ruins: A Lunar Fallout Plus Modlist
## Bem Vindo Ao Apocalipse

From the author of Creative Perks Plus, a Fallout 4 modlist for a survival playthrough without the grind, based on Lunar Fallout Overhaul and Sim Settlements 2. Designed to deepen and enhance the existing game, without straying too far from the vanilla asthetic.
Requires wabbajack - https://www.wabbajack.org/#/

[Join the Community on Discord](https://discord.gg/HUNWVBjZPg)

[Support me on Patreon](https://www.patreon.com/user?u=4257489)

## Modlist Goals
- RPG Balance, Scaling, and Progression - brought to you by Lunar Fallout Overhaul
- Survival Mechanics, with non-survival damage levels and balance (uses a custom mod to change damage modifier back to normal without disabling survival mechanics)
- A vibrant, forested, inhabited, but still uncivilised wasteland. Neglected areas should feel fleshed out, but still match the vanilla aesthetic
- Increased variety in Creatures, Weapons and Armors by mods that add variety to existing content (attachments and alt skins), rather than mods that add a ton of new unbalanced items and monsters
- Extra high-quality content with the same style and tone as vanilla (no pointlessly skimpy outfits, no tacti-cool weapons)
- Full controller support (no extra configuration required)
- Smooth performance on mid-range gaming hardware
 
 ### This is not...
- a hardcore, nitty-gritty survival simulator - if you want that go play a Horizon based list.
- a twitch shooter - if you want that, go play one of the Better Locational Damage based lists
- Fallout New Vegas - if you want that, go play Fallout New Vegas
- an "everything but the kitchen sink" list with every mod out there - if you want that, go play Magnum Opus or MOFAM
- a super-difficult make-the-game-impossible list for people who've played FO4 100x and know it like the back of their hand
- a good base-list for building on top of - if you want that try Welcome to Paradise
 
## Key Gameplay Mods To Be Aware Of
- [Lunar Fallout Overhaul](https://www.nexusmods.com/fallout4/mods/34769)
- [Creative Perks Plus](https://www.nexusmods.com/fallout4/mods/49400)
- [Sim Settlements 2](https://www.nexusmods.com/fallout4/mods/47976)
- [Lore Based Power Armor Changes](https://www.nexusmods.com/fallout4/mods/36251)
 
### The Extra Spice
- [Fallout 4 HD Overhaul](https://www.nexusmods.com/fallout4/mods/52423)
- [A Forest](https://www.nexusmods.com/fallout4/mods/45330)
- [Unique NPCs Creatures and Monsters](https://www.nexusmods.com/fallout4/mods/24357)
- [Super Mutant Redux](https://www.nexusmods.com/fallout4/mods/11853)
- [Tales from the Commonwealth](https://www.nexusmods.com/fallout4/mods/8704)
- [The Bleachers](https://www.nexusmods.com/fallout4/mods/40267)
- [Gunmetal Weapon and Armor Skins](https://www.nexusmods.com/fallout4/mods/51233)
 
### Optional Creation Club Content Compatibility
- [Weapons and Armour Skins](https://github.com/WhiskyTangoFawks/LunarFalloutPlus/blob/main/CreationClubContent.md) Faction Distribution Framework will distribute faction based weapon and armour skins into the world- see the link for more details
 
### [Full List of Mods at LoadOrderLibrary](https://loadorderlibrary.com/lists/life-in-the-ruins-2)
 
## Things you should know...
- Check out the [LitR Survival Tips and Tricks](https://github.com/WhiskyTangoFawks/LunarFalloutPlus/blob/main/LitR%20Tips%20and%20Tricks.md)
- Perks have increasing SPECIAL requirements, and specials can be trained past 10.
- Power armour is more powerful, but rare, and fusion cores are harder to come by and won't always be full. You also don't get to keep the T45 you find in Concord, other power armor frames will be fine though.
    * Power Armor Repair requires perks, but unfortunatly this isn't displayed in the UI
        1. Raider - Armorer 2
        2. T45 - Armorer 2 + Science 1
        3. T60 - Armorer 2 + science 2
        4. T51 - Armorer 3 + science 1
        5. X01 - Armorer 4 + Science 2 + Nuclear Physicist 1
- Shoot/Kick/Explode locks open. Read the nexus page for [LockyBastard](https://www.nexusmods.com/fallout4/mods/13380).
- Survival fast travel is available early game by taking the Local Leader Perk and building a provisioner network, or later on by building the SS2 Caravan plot. If you want an easier fast travel, you can enable the optional Explorer perk unlock for it, or just enable it fully via unlimited survival.
- You don't need to stimpack your companions after combat, the survival requirement to use a stimpack to get them up is disabled.
- The [SS2 Triangle of Death](https://simsettlements.com/site/index.php?threads/understanding-ctds-in-the-triangle-of-death-sanctuary-abernathy-farm-and-red-rocket.6964/) is still a problem, and always will be. Do not heavily develop more than one of those three settlements.


### Technical Requirements
- This modlist must be installed on an SSD.
- This modlist requires at least 6gb of Vram.

The modlist is designed for relatively modern, middle range hardware. A high end graphics card is not required, but it does help (I am currently playing with a 6500xt, and FPS is mostly capped above 90 outside of Diamond City and Boston Commons, where it does drop for me).

#### If you have less than 6gb of vram, or the list otherwise performs badly for you
- Do not try to run the list above 1080p, 1440 in fallout is a performance killer
- Replace the texture BSAs in the stock folder with the Vanilla textures, or for more performance use [PhyOP textures](https://www.nexusmods.com/fallout4/mods/27038). Disable the other texture mods.
- Reducing the grass density/diversity by editting the ini file in the True Grass mod
- Disable the ENB (press * to show FPS, then press shift + F12 to disable ENB processing to see if it makes a difference).
- Reduce minimum shadow draw distance in DynaPerf.ini in the stock game folder

Some or all of these tweaks may allow the list to run better below the minimum requirements.

#### WARNING - Nvidia 20 Series Users
Modern nvidia 20 series drivers have incompatibilities with Fallout 4, and you will need to roll back your drivers. [Read this for more information] (https://github.com/WhiskyTangoFawks/LunarFalloutPlus/blob/main/NvidiaDriverCrash.md)

I've also had reports of Dynaperf causing issues with Nvidia 20 series cards. If you get any crashes with Dxgi.dll as the cause, go ahead and delete dxgi.dll from the stock game folder.

## Wabbajack Installation
See [How to Wabbajack](https://github.com/WhiskyTangoFawks/LunarFalloutPlus/blob/main/How%20To%20Wabbajack.md) for detailed instructions on using wabbajack to install the modlist
 
*This is a large modlist, with several large downloads, including several large sets of textures. Nexus Premium is __highly__ recommended for the initial download, expect the initial download and installation to take at least an hour with premium.*

- HD DLC is NOT required, however because this modlist uses a stock game folder, rather than your game folder in steam, if you do have the HD DLC installed Life in the Ruins will ignore it.

### Solving Common Wabbajack Installation Problems
* Set your game language to English if you have the game in another language- the installer does not work in other languages
* Verify you game files in steam, then run the game through steam, then repeat the installation
  
## Additional Setup (post wabbajack installation)
### Customisation
1. Pick your Profile: "Life in the Ruins", or "Life in the Ruins - CreationClubPaints" if you have the required set of creation club paint jobs
    -  Creation Club Profile - Copy the creation club files from your `fallout4/data directory` into the `[NODELETE] CreationClub Paint Jobs` mod folder. If you CTD immediately on load on the Creation Club profile, but not on the regular profile, then you've hit your BSA limit, and need to repack the creation club content, [see here for more details](https://github.com/WhiskyTangoFawks/LunarFalloutPlus/blob/main/CreationClubContent.md)
2. (Optional) Download and install into the mod `[NODELETE] Cross Skin Packs` the Strigidae and Brotherhood Recon Expeditionary Suit, and Cross Break Action Laser skin packs from https://gumroad.com/niero. They're available for free (use the discount code), but a donation is suggested. The man makes some fantastic mods, and you can probably afford to buy him a coffee.
    * [Cross Courser Strigidae Full 4k](https://niero.gumroad.com/l/brocmon)
    * [Institute Expeditionary Suit Full 4k](https://niero.gumroad.com/l/sUxGr)
    * [Break Action Laser Skin Pack](https://niero.gumroad.com/l/fhdhdh)
    * [Brotherhood Recon Full 4k](https://niero.gumroad.com/l/smyb)
3. The `Difficulty and Customisation` section in Mod Organizer - for people who want to tweak thing a little.
    * `[NODELETE] Cross Skin Packs` : the downloaded cross skins go here
    * `QoL Tweaks` : Minor quality of life tweaks, disable any you don't want
    * `More Dangerous Deathclaws` : makes deathclaws faster at lower health
    * `LFO Hardcore Patch` : see https://www.nexusmods.com/fallout4/articles/3431/ for details. I just makes loot a bit rarer. Recommended.
    * `Survival difficulty`: If you want an easier or harder damage levels, enable one of the optional files
    * `Start Me Up - Skip Pre-War Prologue` Optional mod that allows you to skip the pre-war prologue
    * `90FPS No VSYNC` : If you run a high refresh rate monitor with GSync/FreeSync, this will disable vsync, and cap the framerate at 90. 
    * `120FPS No VSYNC` : As above, just capped at 120.
        - If you are running either of these, it is recommended that in dynaperf.ini in the stock game folder you increase fTargetFPS to 75 or 90.

### Game INI Settings
How to Setup your own ini files with Bethini
    1. Close Mod Organizer, and open BethINI
    2. `Setup` tab 
        * Check that the game path is pointing to the `Stock Game Folder`, and not your steam installation
        * Check that the mod organizer path is pointing to the correct instance of MO2 for Life in the Ruins.
        * Check that your game settings path is set to `my documents/my games/fallout 4`
    3. `Basic` Tab
        * Choose a profile at least one step lower than you would use for vanilla fallout. For most users with less than a 3090 I recommend medium, LitR is significantly heavier than vanilla fallout. (The shorter draw distances on medium make A Forest much easier to run, and A Forest makes it so you can see stuff way in the distance anyway)
        * For most users, 1920x1080 resolution is recommended.
        * Enable `VSync` unless you're using Gsync/FreeSync (the `High FPS Physics Fix` mod controls VSync and this settings should be ignored, but having it match here doesn't hurt)
    
The following default settings have now been set for you, courtesy of 
   * Disabled `motion blur`, `godrays`, `lense flare`, and `depth of field` (I don't like them, and suggest disabling, but whatever you want)
   * `fBlendSplitDirShadow` - set to 0 (high end users may want to try 512 or 1024)
   * `iDirShadowSplits` set to 1
   * `fUpdateBudgetMS` - set this to 2.4 (normally, messing with the budget settings will degrade performance, but because HighFPSPhysics is able to dynamically turn this down, this gives the scripting engine more resources, but only when it needs it)

`fBlendSplitDirShadow` and `iDirShadowSplits` control the transition between high res and low res shadows based on how far you are, and the default settings cause a very noticable shadow "draw-in" effect during the transition. It's bad in normal fallout, but with `A Forest`, all the extra trees casting shadows makes it *really* noticeable. These custom settings disable this, and set the shadows to always be low resolution. This results in some flickering from leaves blowing in the wind, but unfortunatetly that is the trade off. Users with high performance GPUs may be able to instead increase the transition distance to 512 or 1028 and set the transition to high quality, however in areas with lots of shadows this will cost you frames, especially at higher shadow resolutions (trying it on my rig resulted in a LOT of extra stuttering in downtown boston). If you want to try this I suggest testing it in Boston Common, or other high performance req area.

#### Dynamic Performance Tuner
DynaPerf.ini can be found in the Stock Game Folder in your MO2 install directory. Any changes made here will need to be repeated after updating the modlist (the wabbajack installer will return these settings to the defaults). The following settings can be tweaked for your machine, I don't recommend adjusting the other settings.

- `fTargetFPS=60`
    * This is the target FPS dynaperf will attempt to maintain, when your FPS drops below this, dynaperf will reduce your shadow draw distance to compensate. If your system runs at high FPS typically, increasing will prevent FPS reduction at the expense of reduced shadow distance.
- `fShadowDirDistanceMin=3000`
    * This is the minimum distance dynaperf will reduce shadow draw to.
- `fShadowDirDistanceMax=9000` 
    * This is the maximum distance dynaperf will increase shadow draw to, if you notice stuttering while turning in downtown or other areas with heavy shadow load (especially after staring at the ground for 20-30 seconds), decreasing this will help. Users with very high end machines may want to increase this value.

#### Nvidia/AMD Control Center

Settings here are going to be very system and driver specific, but some general things to be aware of
* VSync settings MUST be set to application controlled 
* Disable any framerate caps or limits
* Make sure your drivers are up to date (Unless you are using an Nvidia 20 series GPU).
* If you have FreeSync/Gsync enabled, then you need to also enable either the 90 or 120 FPS NoVsync options in the customization section.

### In Game Setup
0. Start a new survival game (recommended, but not required)
1. Mod Configuration Menu - Recommended Optional Setting
    - Survival Configuration Menu (recommended)
        * turn ON savegame -> timed save
    - Sim Settlements 2 (optional)
        * Gameplay -> Resource Complexity to Scrap Categories (this will set SS2 to use a simplified scrap system of 4 scrap types, instead of requiring specific components, but instead of using items in your workbench, you will need to donate material at the city planner desk for your citizens to use them)
        * Gameplay -> Disease -> Settler disease off (this disables the optional settler disease mechanic, which is mostly just an annoying, extra level of management, but leave it on if you want).
    - Holotime (optional)
        * Turn status off, exit MCM, re-enter MCM, and turn status on
        * Show time -> off
        * Show timebar -> on
    - Immersive HUD
        * I personally don't use it, but have included it in the list for people who want it.
 
3. (Optional) Craft a companion whistle at a chem lab bench, this will teleport any active companion to you, useful when you accidentally tell them to stay and can't find them, or they're screwing with NPC pathing during a quest
4. (Optional) Craft the companion tracker holotape at the chem lab bench. This allows you to track inactive companions, for cases where you can't remember which settlement you sent them to. 

## Known Issues
- Nvidia Drivers: The only known instability in the list is the result of newer Nvidia drivers for the 20 series cards. [Read more about it here](https://github.com/WhiskyTangoFawks/LunarFalloutPlus/blob/main/NvidiaDriverCrash.md)
- Infinite Loading Screens: A handful of users have experienced infinite loading screens. This is an issue with the combination of Boarderless/Full Screen, Vsync settings, and adaptive/high sync monitors, that I haven't discovered a solution for, as I am unable to replicate the problem.
- SS2 script failures on new game are the result of going through the opening sequence too quickly. After you finish character creation, wait a couple minutes before trying to exit the bathroom.
 
## Notable Missing Mods
- XDI : I don't personally use it or like it. An upcoming version of the list will likely include Dialogue Sneak Peak as a comprimise.
- Scrap Mods : I personally don't use them, and am not going to add something to the list I haven't test. I recommend SS2's city plans if you want more automation for settlement development.
- VAFS: I play the game on my couch, with an xbox controller, using VATS pretty much exclusively. If you want slow time aiming, take the sniper perk (which has a weak slow time effect), and stockpile JET.
- AWKCR - Yes, this is an AWKCR-free modlist. Gunmetal Faction Distribution does have an ArmorKeywords dummy plugin it uses for some keywords, but it does not include any of the bloat or unexpected features of the full AWKCR mod.
- Beantown Interiors - It's a compatibility nightmare, both because it breaks precombines, and because it destroys the loot balance of the list
- CBBE- I find barbie doll proportions un-immersive. Women don't look like that in real life.
- Thuggysmurf (Depravity, Outcasts and Remnants, etc)- The quality of the work on these mods is incredible, but they are massively let down by the writing and choice to include adolescent jokes. I personally find a lot of it cringeworthy. A mod that adds a dildo as a weapon and has a bunch of female NPCs in skimpy sexy corsets isn't one I want in my load order, and I'm not comfortable recommending it to people.
- 100s of Weapons mods - this list has a relatively conservative approach to weapons, both due to personal choice and the challenge of balancing for Lunar Fallout. In game diversity is provided through Gunmetal Weapons and Armour Skins. As stated at the top, this isn't a kitchen sink list.
- Mods that were removed in the Great Nexus Purge and are no longer available : Utility Belt, Better Cooking Stations (v1), MsRae's Commonwealth Interiors, Swinging Animated Meatbags. All of these are compatible, and don't need patching. Feel free to add them if you have them.
- Previsibine Repair Pack- this modlist uses BostonFPSFix, and the PRP Fixes for it. It's not perfect, but it is reliable. Because PRP touches every single cell in the game (including cells that didn't need fixing) it's a huge undertaking, still under development, and a compatibility headache for a modlist as extensive as this one.
 
## Unsupported Activities - Adding your own mods
### If you want to add stuff to the list, you do so at your own risk. You're on your own, but if you're really nice about it we'll offer advice in the discord.  If you choose to do so, there are a couple things to know.
0. The correct way (IMHO) to add stuff to an existing modlist, is to use the `[NODELETE]` tag, this will cause wabbajack to ignore it. New mods should be added at the END of the modlist, the whole point of adding a mod is to override the existing changes in the list, so at the end is *probably* where you want it. I recommend also adding a tag to order the mods you add alphabetically in the order you want, so that when you update the base list the folders will be added to the end, in the order you want them, and you just have to re-enable them, and then rerun the sorter patch. So, when you add a new mod, it will look like this in the left hand pane `[NODELETE] 01 Default Mod Name`. This allows you to apply critical updates from the main list, while keeping it relatively easy to maintain your additions. The `[NODELETE]` tag applies to any folder, including profiles. So if you want to do something more complex with load order, you can copy the existing profile, rename it and include the `[NODELETE]` tag at the start, and when the installer runs when you update it will leave your custom profile untouched.
1. Lunar Fallout Overhaul has a specific balance, adding new weapons, armors, monsters, or items is NOT RECOMMENDED. It probably won't break it, but it will screw with the balance. If you want to patch it in, information on how the mod works and it's balance can be found on Moonracer's Lunar Fallout Overhaul mod page.
2. This modlist has a staggering amount of custom patching, and even completely custom mods, all with the vision of integrating everything together into a cohesive whole. The answer to "does this mod conflict with the Life in the Ruins" is ALWAYS going to be yes, there are very few things that haven't been touched, tweaked, or reworked. If you don't know how to do conflict resolution in xedit, turn back now.
3. The mod uses M8r98a4f2's Complex Item Sorte v1.9, with 4estGimps Item Sorter Enhancements. The sorting plugin can be regenerated by running the script in xEdit (which is shipped with the modlist). When you run the script, it will ask you to activate the AWKCR addon- *DO NOT DO SO*. The AWKCR plugin in this list is NOT the normal AWKCR, and does not require special patching by the sorter.
4. As stated above, the AWKCR plugin in this list is NOT the normal AWKCR. AWKCR Dependent mods will not work with it.
5. This modlist includes custom precombines for the Downtown Boston, and Diamond City areas. If you break them, it will destroy performance.
6. This list is near the BSA limit, if you add mods and experience CTDs, that is a likely cause.
